sudo: false
language: java
jdk:
- oraclejdk8
env:
  global:
  - secure: cgVxgGIUYhktw60AFLszHGM27MsKqttN1C4RfnBLGoHLR63Fw6F9cj5Vzou/bflgsx0rXcdn6l+myz3Wf5q7YVnHdrKq1lqrDzz6YE2GQjokzVOYL11+14ZmwicwXoH6R3siMaOHtAdFdk6depjq+aEdndQ6abLHsPkjXPYRsEzSAgd5a/SHqHgplvVtHQhDHCsf/drcfyrvaSnyjq0yYgG0F8sNyuht3wDjRtXUIRCdXJca2ALc/txikq70N+6GoTnSMiVA2aiONb/IdAcQ8Kk9sVvb/VZCvR1A29QwUpFw2QbHEPVCDL2mOqeAQaxR3b0rEeifbiY4X2GW09+EPoPHEiU/+kucrDAy+W5f2fsOp8WsrXEqAGXv+13WXr5pNFflCjUC91Qr9JxtfyD5jp/D50xNowVIKew4nP9UEC3JakDGsV0S9d5+KF57toHlStlyqmlBu+l4szfJb6D3aZiWWUVUm9+WLjSmZsKDoy0dsbgKkdbJdeg7w36H86zPYRQbf6ouOle71PrCzAEVMSMfyb+2Cnx1KNmMkmYM2pxPhNq4rL8s2XOuGIU4/638TWqeI3+IXhpx1Nv/59/HdIxNOy1DeGkhXBN/Kh+sCc+Z2G2dK1waccbYm0cwobZaOaIos8/qLrr4tNt7VFWoLLDDYyhl9eFj/Ylj778B2uc=
  - secure: kcf+KpI33aoXmjWgYr0EcuBq72hcd6GEmu9Zmp9lDUE5EtswggjoX4fcw5EYTG2WlQVSHhEm2BR67CHRTG9OZd9iAbcEQM4B0bR9Vgvdy6znlori66Txht6pPMpGUgwMpVRHzJsz5ZihwUtmivsG9IReS0fj8oVzw6G9uGcTuKe2clgQlLI0xuHfQXLcUCMU/dkzxWLkrKk1aX1sGMy1GoYOJEnZ2iWOR5LBIPqIH8W4iXFicnU4VGFjcGaOxi93J+Mn+1hmPpf/PiUjBSFlasoKxw8OQZAe5ZKK6BXw4np1VfMOadRwoYVECUt5svljJRSNmuCdrmwH3MX/Vw5bmD+dfLzxuUb36J5UgwrCRTAiwgqgb5jiAV4H4NxNq0Lvn4TLtjuy0XHV3N5wTcqRuQMPzkaSSogx/0VPucK3X3x70H6ri2OvTfdolqhCDN1fEqVX5OgFatqehn/LSijujzA/mzUeJyObFpuDTMxc/83bwf4L9gM2zw2MfvMZkK7dnf+hqnqPJZGWBYv/t8tyFVnwI3qoSavxfJXPHcC6LoTIoEk+HB/z0RhJsQrIkbZFTNMKS/T2q6BzmFHSzDa56w2eISkm6tnkAsMnubOeo0xiBX7R2fXC+2vA7WG85ZTPN0l8FHKLJpTj/DA1Pe0FTXjPfwOGAQXFBxkBxgAKqXE=
  - secure: u6/el7nEcO8oBKdN1TXIZ5pPuNtoQ37TjuVE7yFJO78IgLpLs8M+ulOrws3CY7HAgrbp7w8ultTUdYiPzz5Oe2Ns9xvN4rYwOa7yDzj3M/ShgNe07onJODTiz5sEKJzHYM5fzZybYeJEKDnqTH9Jp0XibTHzJIn4sCWlUb8iLgWh3jLNx0CCSfMQ+wacOU1PXic/fihJUS5oXrwGHcYp55omR7+MdfjrjVCZFPP9Bw5Cq7LxMLPsDN9zKsPqCYdikA1M2FaemzZWfuBEcTUyCMKI00hNigc1jCQLvZfmuvi3D92qJ7tr4HybzFZ3ecc8UODxzxZY1StXo6VEg22uH1jmaYpsrFt1pl262BPFVoX+o+gVZ9n3vvQdb/aXp1vgnroP8ntd4ucdsSzLDZYweD0/Ay54aSA9OA1Iozc09WxtsHRubeVZf2+9v1gbZRr4j2S6Okp9HTXdgg8kbIV5fafb+gOOgnqs43CEf+cP0lM1ddBhKYvRNaf9bZdj6J55LV/O0h6H0AElDPlv4yLVlgqVHHP6cXYaJrIJm+yRRjcHgMePbW7202IpV5JfLs8yhHbikMhVEu5auQaPFgVnkhCByY/aUMHpTOPjaX9pH8yVnfj59NPO7NPlbLBN696NSSCrMT8zWfx2QsAFqZdld/FZEyA6gzyXi3udTJZWHiA=
  - secure: ngHkf1B+QruAAbgvsqBoqVhKJBpLs5e41ouQCGYES9cAqhl+GhraWrFGIw1oraR245XEhTMIFGEFs04Jvz5R2cNTiNb8I1UtEgwkQImcbBzrXoGKAcm0A/EIlzDLVmFoXQ6HmPJ4qNzx04WQHtBWqKQXccgCo5jZuSF36u796SV2r9FOjoIIq4FnKWna4BRi1sjun2Ml8Vm8q4nVMFipfcbA+ibQ9Tck3141/NWizsH2t7wRLGoToV0ehTG416eoxiRt09/4vSmog5n2MwJdZuk1p4LjWRhYdePi/D+39wsZviuNoKK/KjIcA4QhbrSrlOGL2yE+rHEQNyr85Z2JZrdBtslaUIkB71I3JKAv/3mZxZ3gLaBMTTSqomQp1s3C/Nbg6c6B4qkU+4SsZ2CH8OG1xmEzm5IeOe3mlZ3goOzUuJ9SwYkSKG0+EnGNbs5oAsPE0ZQwg/CgmvTKnAlvNpO/VgNvgXyi8/YVHzepZeZYPDQb5H947lkGxZ9yKcj6XVnZVYF5gmwWw5aiZRXOXRyg5IU0xh+J7gXtzjp23BR9IQMXwZdS7LYwtQcMuKkBHb5cltWPfJPGNicRCEQe8osxq/SgCtPcGUHHH/CdRloy1xtGyuQppYWbObcmOixoG2rk+kHFwREIgKnqnqB7j2v/CFfUhfPd+aLBdMMJczA=
before_install:
- openssl aes-256-cbc -K $encrypted_00a603c4aec0_key -iv $encrypted_00a603c4aec0_iv -in .sign.asc.enc -out .sign.asc -d
- gpg2 --fast-import .sign.asc
- export GPG_TTY=$(tty)
- cp .settings.xml $HOME/.m2/settings.xml
after_success:
- mvn clean test coveralls:report
deploy:
  provider: script
  script: mvn deploy
  skip_cleanup: true
  on:
    branch: master
notifications:
  email: false
  slack:
    rooms:
      secure: RULt/k1JAHxMXIgXsA2MjDfRNSF4rOfZFH+wLVzouVJTImaYnCKhmzZdXixXDXs76dZYRO5iB+ABWetUKd/o9vDlC4YgRbUUUi6LvmkUuJUyyekRiED+L/uLCyRj1X3z/WiyeGgFfymjxfBfS9wounTJzC7GI4NJ1EkRO2wX0OjT3hFEPSYoY/DKPfysAhxCYVPi7DPJOh91iQA+XiWDnDGqsptILjYok0jNuaGmICFHI7IvE3zeVpQo6bdutGnF5qA4HxFSwsUT6MRFc49Gg/VAjzcUH5118MapZxdbg9YM19gdvImu0b+3hJRL+tm05yk0jIvwKJiu0F3TkTwMLs1v5lG5VzmknvKIEwT1g3aIUxPsZj0Qf/OzgyVgjQpWjuN5EnVBpQ+1P5LpWGJAWe/3KYQ7dRIiRthERzYcx2LHKt1regFFkPzP7dCzGcTOYmQtHCFZJe6C3Xhrv/KhhtigPHqGwanwX45x08zV9cv1ZlXUd1u1Y+k+QWhT3uID/XGX8fKczz7TmA5S7o8+Q9aoS3z6ZZ88ir3pYF11lGEUZArRNX1ozo29wHJ/lUdzTmkLGkmKUVUiumR+HZTF+lrcUEyxCorxSkCK5mSrfc5DeQv3j/wyMiql+IOyRMpnWC8Kko1s2dtp/b+UN8EpBjwJ8PJlKp8fEYuI27Ok3DU=
    on_success: change
    on_failure: always
